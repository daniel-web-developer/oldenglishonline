<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1"
        crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="oeccss.css">
    <title>Old English Online</title>
</head>

<body>
    <div id="head">
        <div class="container">
            <div class="row" id="header">
                <div class="col-xs-12">
                    <h1>
                        <a href="index.html">Learning Old English Online</a>
                    </h1>
                </div>
            </div>

        </div>
        <div class="dark-opacity">
            <div class="container">
                <!--close div class row-->
                <div class="row" id="navline">
                        <div class="col-xs-12">
                            <nav>
                                <div class="navelement">
                                    <a href="index.html">Home</a>
                                </div>
    
                                <div class="navelement">
                                    <a href="courseindex.html">Index</a>
                                </div>
                                <div class="navelement">
                                    <a href="about.html">About</a>
                                </div>
                                <!-- Nav wrapper end -->
                            </nav>
                            <!-- close nav-->

                    </div>

                </div>
            </div>
        </div>
    </div>

    <div id="mainwrapper" class="container">
        <div class="row">

            <h1>Old English Cases</h1>
            <br>
            <p>
                <span class="orange">O</span>ld English, much like many Indo-European languages, is an inflected language, and as such the endings
                of nouns, pronouns, and adjectives change depending on their grammatical function. In modern English, word
                order is largely what determines a words meaning. In English, the word order generally follows the order
                of subject, verb, object. For example,
                <i>Dog bites man</i>.
            </p>
            <p>In
                <i>the dog bites the man</i>, dog is the subject (what is performing the action), bites is the verb (the action),
                and man is the direct object (the object being acted upon). If you reversed the order of the words, the man
                bites the dog, the meaning is completely different.
            </p>
            <p>
                Old English, however, is an inflected language which means the ending of the word changes to indicate its grammatical function,
                irrespective of where it appears in the sentence. A set of declined forms of the same word pattern is called
                a declension and Old English nouns decline for case, gender, strength, and number.
            </p>
            <br>There are four major cases:
            <br>
            <strong>The Nominative Case</strong> indicates the subject of the sentence.
            <br>
            <strong>The Accusative Case</strong> indicates the direct object of a sentence.
            <br>
            <strong>The Genitive Case</strong> indicates possession.
            <br>
            <strong>The Dative Case</strong> indicates the indirect object of the sentence.
            <br>
            <br>
            <p>Let’s look at how these work in more detail.</p>
            <a href="cases2.html" class="linkright">Continue to Nominative and Genitive Nouns
                <i class="fa fa-angle-double-right" aria-hidden="true"></i>
            </a>
        </div>
    </div>
    <!--close mainwrapper-->

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <div id="footercenter">
                            © 2018 - Victoria Koivisto-Kokko - University College Cork - Master's Project
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--closing footer container-->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
    <script type="text/javascript">
        $lastActive = $('.question input').first();

        $(document).ready(function () {
            var $questionWrapper = $("#question-wrapper"); //this explains to jquery what to look for in the HTML selectors
            loadQuestions($questionWrapper);

            $('.special-character').on('click', function () {
                if ($lastActive) {
                    $lastActive
                        .val($lastActive.val() + $(this).attr('data-char'))
                        .focus(); //this will give the focus back to the same element selected prior to the 'char' button press
                }
            });
            //marks which input field is the last selected before 'char' button press
            $('.question input').on('focus', function () {
                $lastActive = $(this);
            });
        });

        $('#hide-submit').click(function () {
            $('.table-hide').toggle(); //toggle is a jquery class to toggle the visibility of an element.
            $(this).find('span').toggleClass('hide');
        });

        $('#submit').click(function () {
            $('.question').each(function () {
                var correctAnswerArray = $(this).attr('data-answer').split('|');
                var userAnswer = $(this).find('input').val();

                if (checkAnswer(correctAnswerArray, userAnswer)) { //Adds CSS to show green/red indicator
                    $(this).closest('.form-group')
                        .addClass('has-success')
                        .removeClass('has-error');
                } else {
                    $(this).closest('.form-group')
                        .removeClass('has-success')
                        .addClass('has-error');
                }

                $(this).next('.answer')
                    .removeClass('hide');

            });
        });

        function loadQuestions($container) { //now container=questionWrapper (where the questions are stored on the page)
            console.log('foo');
            $.getJSON('/Cases_Answers.json')
                //If the file is successfully loaded this method is called
                .done(function (data) {
                    console.log(data);

                    data.forEach(function (question, i) { //What follows is what creates the template for our questions.

                        var questionItem = `<div class="question-item">
                            <div class="question" data-answer="${question.answer}">
                                ${i + 1}. ${question.question}<input type="text" class="form-control" placeholder="answer" style="width:100px; display: inline-block;">
                            </div>
                            <div class="answer hide">
                                ${question.explanation}
                            </div>
                        </div>`; //The backticks (`) allow for string literals (what's above this, basically multiple lines of texts). 

                        $container.append(questionItem);

                    });




                })
                //If the file is NOT successfully loaded this method is called
                .fail(function (jqxhr, textStatus, error) {
                    console.log(textStatus, error);
                });
        }

        function checkAnswer(answerArray, userAnswer) {
            var wasUserCorrect = false;

            answerArray.forEach(function (answer) {
                if (answer.toUpperCase() == userAnswer.toUpperCase()) {
                    wasUserCorrect = true;
                }
            })

            return wasUserCorrect;
        }
    </script>
</body>

</html>