<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt"
        crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="oeccss.css">
    <title>Old English Online</title>
</head>

<body>
    <div id="head">
        <div class="container">
            <div class="row" id="header">
                <div class="col-xs-12">
                    <h1>
                        <a href="index.html">Learning Old English Online</a>
                    </h1>
                </div>
            </div>

        </div>
        <div class="dark-opacity">
            <div class="container">
                <!--close div class row-->
                <div class="row" id="navline">
                    <div class="col-xs-12">
                        <nav>
                            <div class="navelement">
                                <a href="index.html">Home</a>
                            </div>

                            <div class="navelement">
                                <a href="courseindex.html">Index</a>
                            </div>
                            <div class="navelement">
                                <a href="about.html">About</a>
                            </div>
                            <!-- Nav wrapper end -->
                        </nav>
                        <!-- close nav-->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="mainwrapper" class="container">
        <div class="row">
            <div class="bc-icons-2">
                <!-- Breadcrumb-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a class="black-text" href="courseindex.html">Index </a>
                        <i class="fa fa-angle-double-right mx-2" aria-hidden="true"></i>
                    </li>
                    <li class="breadcrumb-item">
                        <a class="black-text" href="cases.html"> Cases </a>
                        <i class="fa fa-angle-double-right mx-2" aria-hidden="true"></i>
                    </li>
                    <li class="breadcrumb-item">
                        <a class="black-text" href="cases2.html">Nom and Gen Strong Masc Nouns</a>
                        <i class="fa fa-angle-double-right mx-2" aria-hidden="true"></i>
                    </li>
                    <li class="breadcrumb-item active">
                        Acc and Dat Strong Masc Nouns
                        <i class="fa fa-angle-double-right mx-2" aria-hidden="true"></i>
                    </li>
                    <li class="breadcrumb-item">
                        <a class="black-text" href="cases4.html">Demonstratives </a>
                        <i class="fa fa-angle-double-right mx-2" aria-hidden="true"></i>
                    </li>
                    <li class="breadcrumb-item">
                        <a class="black-text" href="cases5.html"> Strong Masc Nouns Overview </a>
                    </li>
                </ol>
            </div>
            <!--Close Breadcrumb-->
            <p>
                    <h3>Accusative and Dative Strong Masculine Nouns</h3>
                </p>
            <p>
                <span class="orange">A</span> verb is a word used to describe an action or a state, and a verb which acts upon something is a
                transitive verb. For example, in
                <i>The king throws the spear</i>, the subject is 'The king', the verb is ‘throws’ and the direct object is ‘the
                spear’. Similarly, in the sentence
                <i>The king goes to Reading</i>, the subject is ‘the king’, the verb is ‘goes’ and the indirect object is ‘Reading’.
            </p>
            <p>A
                <i>direct object</i> is a noun that is directly acted upon by the verb, while an
                <i>indirect object</i> identifies ‘to’ or ‘for’ what the action of the verb is performed, as well as who/what
                is receiving the direct object. In Old English, whether a noun is a direct or indirect object affects which
                case it takes, with direct objects taking the
                <strong>accusative</strong> case and indirect objects taking the
                <strong>dative</strong> case.
            </p>
            <br>
            <p>
                <img class="graphicorg" src="images/case4.png">
            </p>
            <br>
            <p>
                So, in the sentence,
                <i>the king’s thane slew the bishop in Reading</i>, the bishop is directly receiving the action of the verb
                while Reading is not directly receiving the action. An easy way to identify the dative case is the use of
                <strong>prepositions</strong>.</p>
            <p>A preposition is a word that indicates the location of a noun, for example ‘to’, ‘in’, ‘from’, or a relationship
                between a noun and pronoun, 'about', 'instead of' 'after. In the graphics above and below, the preposition
                is coloured white.
            </p>
            <br>
            <p>
                <img class="graphicorg" src="images/case3.png">
            </p>
            <br>
            <p>As can be seen in
                <i>the king's thanes go to Reading</i>, just as with the nominative and genitive cases, what ending a noun takes
                is determined not just by its role in a sentence, but also its number; whether it is single or plural. Compare
                the singular
                <i>þegen</i> in the first graphic with the plural
                <i>þegenas</i> in the second.
            </p>
            <br>
            <div>
                <div id="grammar-table">
                    <!-- Nav tabs -->
                    <ul class="nav tabs nav-justified" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#cyning" aria-controls="cyning" role="tab" data-toggle="tab">Cyning</a>
                        </li>
                        <li role="presentation">
                            <a href="#biscop" aria-controls="biscop" role="tab" data-toggle="tab">Biscop</a>
                        </li>
                        <li role="presentation">
                            <a href="#thane" aria-controls="thane" role="tab" data-toggle="tab">Þegen </a>
                        </li>
                        <li role="presentation">
                            <a href="#stan" aria-controls="stan" role="tab" data-toggle="tab">Stan</a>
                        </li>
                    </ul>
                    <!-- Tab panes -->
                    <div class="tab-content full">
                        <div role="tabpanel" class="text-center tab-pane active" id="cyning">
                            <table class="table-bordered table-striped grammar table-hide" align="center">
                                <tr>
                                    <td colspan="5">
                                        <strong>Strong Masculine Nouns</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <th></th>
                                    <th>Singular</th>
                                    <th>Plural</th>
                                    <th>Singular Suffix</th>
                                    <th>Plural Suffix</th>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Accusative</strong>
                                    </td>
                                    <td>&thorn;one cyning</td>
                                    <td>&thorn;a cyningas</td>
                                    <td>-</td>
                                    <td>-as</td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Dative</strong>
                                    </td>
                                    <td>&thorn;&aelig;m cyninge</td>
                                    <td>&thorn;&aelig;m cyningum</td>
                                    <td>-e</td>
                                    <td>-um</td>
                                </tr>
                            </table>
                        </div>

                        <div role="tabpanel" class="text-center tab-pane" id="biscop">
                            <table class="table-bordered table-striped grammar table-hide" align="center">
                                <tr>
                                    <td colspan="5">
                                        <strong>Strong Masculine Nouns</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <th></th>
                                    <th>Singular</th>
                                    <th>Plural</th>
                                    <th>Singular Suffix</th>
                                    <th>Plural Suffix</th>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Accusative</strong>
                                    </td>
                                    <td>&thorn;one biscop</td>
                                    <td>&thorn;a biscopas</td>
                                    <td>-</td>
                                    <td>-as</td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Dative</strong>
                                    </td>
                                    <td>&thorn;&aelig;m biscope</td>
                                    <td>&thorn;&aelig;m biscopum</td>
                                    <td>-e</td>
                                    <td>-um</td>
                                </tr>
                            </table>

                        </div>

                        <div role="tabpanel" class="text-center tab-pane" id="thane">
                            <table class="table-bordered table-striped grammar table-hide" align="center">
                                <tr>
                                    <td colspan="5">
                                        <strong>Strong Masculine Nouns</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <th></th>
                                    <th>Singular</th>
                                    <th>Plural</th>
                                    <th>Singular Suffix</th>
                                    <th>Plural Suffix</th>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Accusative</strong>
                                    </td>
                                    <td>&thorn;one þegen</td>
                                    <td>&thorn;a þegnas</td>
                                    <td>-</td>
                                    <td>-as</td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Dative</strong>
                                    </td>
                                    <td>&thorn;&aelig;m þegne</td>
                                    <td>&thorn;&aelig;m þegenum</td>
                                    <td>-e</td>
                                    <td>-um</td>
                                </tr>
                            </table>
                        </div>

                        <div role="tabpanel" class="text-center tab-pane" id="stan">
                            <table class="table-bordered table-striped grammar table-hide" align="center">
                                <tr>
                                    <td colspan="5">
                                        <strong>Strong Masculine Nouns</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <th></th>
                                    <th>Singular</th>
                                    <th>Plural</th>
                                    <th>Singular Suffix</th>
                                    <th>Plural Suffix</th>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Accusative</strong>
                                    </td>
                                    <td>&thorn;one stan</td>
                                    <td>&thorn;a stanas</td>
                                    <td>-</td>
                                    <td>-as</td>
                                </tr>
                                <tr>
                                    <td>
                                        <strong>Dative</strong>
                                    </td>
                                    <td>&thorn;&aelig;m stane</td>
                                    <td>&thorn;&aelig;m stanum</td>
                                    <td>-e</td>
                                    <td>-um</td>
                                </tr>
                            </table>
                        </div>

                    </div>
                </div>

                <span class="btn btn-warning" id="hide-submit">
                    <span class="label-hide">Hide</span>
                    <span class="label-show hide">Show</span>
                </span>


            </div>
            <p>
                <br>You now know the basic of the nominative and genitive cases. The next thing to do is practice what you have
                learned. Feel free to use the table to help you with the first batch of questions. You can hide the table
                at any point by clicking the orange 'hide' button. Otherwise you can continue on to the next topic.
            </p>
            <br>
            <a href="cases2.html" class="linkleft">
                <i class="fa fa-angle-double-left" aria-hidden="true"></i> Return to Nom and Gen Strong Masc Nouns

            </a>
            <a href="cases4.html" class="linkright">Continue to Demonstratives
                <i class="fa fa-angle-double-right" aria-hidden="true"></i>
            </a>
        </div>
        </p>
        <hr class="border">
        <h2> Test Yourself! </h2>

        <form name="form1" autocomplete="OFF">
            <p>
                <span class="btn btn-default special-character" data-char="&thorn;">&thorn;</span>
                <span class="btn btn-default special-character" data-char="&aelig;">&aelig;</span>
                <span class="btn btn-default special-character" data-char="&eth;">&eth;</span>
                <span class="minitext">Use these buttons to insert thorn, ash and eth when you have an input selected.</span>
            </p>
            <div id="question-wrapper">

            </div>

            <div class="form-group">
                <span class="btn btn-warning" id="submit">Check</span>
                <span class="btn btn-warning hidden" id="again">Try Again?</span>
            </div>
        </form>
    </div>


    <footer>
        <div class="container">
            <div class="row">
                <div class="col-xs-6">
                    <p>Project created in fulfillment of the requirements for an MA in Digital Arts and Humanities</p>
                    <p>© 2018 — Victoria Koivisto-Kokko — University College Cork</p>
                </div>
                <div class="col-xs-6 test">
                    <p>Have questions or feedback? Email
                        <u>victoria@koivisto-kokko.com</u>
                    </p>
                    <p>Alternatively, find me on twitter
                        <a href="https://twitter.com/Vkkokko">
                            @vkkokko
                            <i class="fab fa-twitter"></i>
                        </a>
                    </p>
                </div>
            </div>

        </div>
    </footer>
    <!--The JavaScript-->
    <script src="jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
    <script type="text/javascript">
        let $lastActive;

        $(document).ready(function () {
            let $questionWrapper = $("#question-wrapper"); 				// This variable explains to jquery what to look for 
            // in the HTML selectors. i.e. our question wrapper

            loadQuestionsInto($questionWrapper);			   			// This loads the question from the JSON file (called elsewhere), 
            // into our wrapper.
            $('.special-character').on('click', function () {
                if ($lastActive) { 						   			// This Boolean checks to see if the last active input 
                    $lastActive											// was from .question-item (thus making it our user input). 
                        // If it is, this becomes a 'truthy' variable meaning it executes.
                        .val($lastActive.val() + $(this).attr('data-char'))
                        .focus();			   							// This is a predefined jquery command which gives the focus back  
                    // to the same element selected prior to the 'on click command'. 
                }  														// in this case, the 'char' button press.
            });

            $questionWrapper.on('focus', '.question-item input', function () {
                $lastActive = $(this);									// This marks which input is the last selected before 'char' click
            });
        });

        $('#hide-submit').click(function () {
            $('.table-hide').toggle();                              // This adds a jquery class to 'toggle' the visibility of an element.
            $(this).find('span').toggleClass('hide');
        });

        //code for the check button
        $('#submit').click(function () {
            $(this).addClass("hidden");
            $('#again').removeClass("hidden");

            $('.question').each(function () {
                let correctAnswerArray = $(this).attr('data-answer').split('|');
                let userAnswer = $(this).find('input').val();

                if (checkAnswer(correctAnswerArray, userAnswer)) {  //Adds CSS to show green/red indicator around the input box.
                    $(this).closest('.form-group')
                        .addClass('has-success')
                        .removeClass('has-error');
                } else {
                    $(this).closest('.form-group')
                        .removeClass('has-success')
                        .addClass('has-error');
                }

                $(this).next('.answer')
                    .removeClass('hide');

            });
        });

        // The below code is for the Try Again? button
        $('#again').click(function () {
            $(this).addClass("hidden");
            $('#submit').removeClass("hidden");

            loadQuestionsInto($("#question-wrapper"));
        });

        function loadQuestionsInto($container) {                    // Now container=questionWrapper (where the questions are stored on the page)
            $.getJSON('Cases_Answers3.json?foo=' + Date.now())      // This is a slight modification to cause 'cache-busting'. Basically, it appends a number to the url to prevent the browser caching this file.

                //If the file is successfully loaded this method is called
                .done(function (data) {
                    $container.empty();
                    selectedQuestionsArray = [];
                    for (let i = 0; i < 5; i++) {
                        let question = data.splice(Math.random() * data.length | 0, 1);
                        selectedQuestionsArray.push(question[0]);
                    }

                    selectedQuestionsArray.forEach(function (question, i) { //What follows is what creates the template for our questions.
                        let questionSplit = question.question.split('####');
                        // This splits a string at the #### delimiter and allows the input field to be placed in the middle of the sentence

                        let questionLine = '';
                        questionLine += `<span class="question-line">${questionSplit[0]}</span>`;
                        questionLine += `<input type="text" class="user-input form-control" placeholder="answer">`;
                        questionLine += `<span class="question-line">${questionSplit[1]}</span>`;

                        let questionItem = `<div class="question-item form-group">
                        <div class="question" data-answer="${question.correctAnswer}">
                            ${questionLine}
                        </div>
                        <div class="answer hide">
                            ${question.explanation}
                        </div>
                    </div>`; //The backticks (`) allow for 'template literals'. These are string templates which allow embedded expressions. 

                        $container.append(questionItem);

                    });
                })
                //If the file is NOT successfully loaded this method is called to aid my debugging
                .fail(function (jqxhr, textStatus, error) {
                    console.log(textStatus, error);
                });
        }

        function checkAnswer(answerArray, userAnswer) {
            let wasUserCorrect = false;

            answerArray.forEach(function (answer) {
                if (answer.toUpperCase() == userAnswer.toUpperCase()) {
                    wasUserCorrect = true;
                }
            })

            return wasUserCorrect;
        }
    </script>
</body>

</html>