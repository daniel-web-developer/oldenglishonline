(()=>{function t(t,e){t&&e&&$.getJSON(`data/${e}?cache=`+Date.now()).done(function(e){t.empty();let n=[];for(let t=0;t<5;t++){let t=e.splice(Math.random()*e.length|0,1);n.push(t[0])}n.forEach(function(e){let n=e.question.split("####"),s=`<span class="question-line">${n[0]}</span>\n\t\t\t\t\t\t\t\t\t<input type="text" class="user-input form-control" placeholder="answer">\n\t\t\t\t\t\t\t\t\t<span class="question-line">${n[1]}</span>`,a=`<div class="question-item form-group">\n\t\t\t\t\t\t<div class="question" data-answer="${e.correctAnswer}">\n\t\t\t\t\t\t\t${s}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="common-mistakes hide">\n\t\t\t\t\t\t\t${function(t){let e="";return t.forEach(function(t){e+=`<div class="answer hide" data-answer="${t.badAnswer}">${t.explanation}</div>`}),e}(e.commonMistakes)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="answer generic hide">\n\t\t\t\t\t\t\t${e.explanation}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`;t.append(a)})}).fail(function(t,e,n){console.log(e,n)})}function e(t,e){let n=!1;return t.forEach(function(t){t.toUpperCase()==e.toUpperCase()&&(n=!0)}),n}$(document).ready(function(){let e,n=$("#question-wrapper");const s=$("#question-wrapper"),a=s.data("question-file");t(s,a),$(".special-character").on("click",function(t){t.preventDefault(),e&&e.val(e.val()+$(this).attr("data-char")).focus()}),n.on("focus",".question-item input",function(){e=$(this)})}),$("#hide-submit").click(function(){$(".table-hide").toggle(),$(this).find("span").toggleClass("hide")}),$(".tooltip-header").each(function(){$(this).click(function(){$(this).closest(".grammar-tooltip").siblings(".grammar-tooltip").find(".card-body").addClass("hide"),$(this).next(".card-body").toggleClass("hide")})}),$("#submit").click(function(){event.preventDefault(),$(this).addClass("hidden"),$("#again").removeClass("hidden"),$(".question").each(function(){let t=$(this).attr("data-answer").split("|"),n=$(this).find("input").val().trim(),s=e(t,n),a=null;s||$(this).siblings(".common-mistakes").find(".answer").each(function(){e([$(this).attr("data-answer")],n)&&(a=$(this))}),s?$(this).closest(".form-group").addClass("has-success").removeClass("has-error"):$(this).closest(".form-group").removeClass("has-success").addClass("has-error"),null!=a?a.removeClass("hide").parent().removeClass("hide"):$(this).siblings(".answer").removeClass("hide")})}),$("#again").click(function(e){let n;e.preventDefault();const s=$("#question-wrapper");n=$("#additionalbutton").hasClass("active")?$("#additionalbutton").data("new-questions"):s.data("question-file"),$(this).addClass("hidden"),$("#submit").removeClass("hidden"),t(s,n)}),$(".audio-button").on("click",function(){$(this).next(".audio-link").get(0).play()}),$("#additionalbutton").on("click",function(){t($("#question-wrapper"),$(this).data("new-questions")),$(this).removeClass("light-button").addClass("solid-button"),$("#basicbutton").removeClass("solid-button").addClass("light-button active"),$("#again").data("new-questions")}),$("#basicbutton").on("click",function(){t($("#question-wrapper"),$(this).data("new-questions")),$(this).removeClass("light-button").addClass("solid-button"),$("#additionalbutton").removeClass("solid-button").addClass("light-button active"),$("#again").data("new-questions")}),$(".table-quiz-button").click(function(){event.preventDefault(),function(t,e){t&&e&&(t.empty(),$.getJSON(e).then(e=>{const n=e.splice(Math.random()*e.length|0,1)[0],s=$('<table class="quiz-table table-striped"/>');s.append(`<tr><th colspan="${n.headerRow.length}"><strong> ${n.word} </strong></th></tr>`);let a="";a+="<tr>",n.headerRow.forEach(t=>{a+=`<td><strong>${t}</strong></td>`}),a+="</tr>\n",n.rows.forEach(t=>{a+="<tr>",t.forEach((t,e)=>{a+=0===e?`<th><strong>${t}</strong></th>`:`<td><input type="text" class="user-input form-control" placeholder="answer" data-answer="${t}"></td>`}),a+="</tr>"}),s.append(a),t.append(s),$("small").replaceWith("<small>In the table below, fill out the fully declined version of the word in the header</small>"),$("#submit").replaceWith('<button class="solid-button button" id="check-table">Check</button>'),$("#again").replaceWith('<button class="solid-button button hide" id="again-table">Check</button>')}))}($("#question-wrapper"),"data/table_test.json")})})();